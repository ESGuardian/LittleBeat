# LittleBeat
---
Сейчас ведется переработка всего LittleBeat. Во-первых, переходим на последнюю версию ELK 5.5, во-вторых, ведется разработка дополнительного продукта LittleBeat-UEBA. В этой версии 5.5.001 фунциональных дополнений нет. Просто всё переделано под ELK 5.5 и Ubuntu Server 16.04 LTS
---
Это готовый к работе аплаенс для сбора и анализа журналов событий Windows на базе стека ELK, предназначенный для небольших компаний (от 5 до 500 хостов).   

Для установки необходима виртуальная или физическая машина Ubuntu Server 16.04 LTS. Рекомендуется минимальная установка системы с дистрибутива с выбором только сервера SSH и стандартных системных утилит в качестве дополнительных опций. Рекомендуется статическая настройка IP или фиксация адреса на сервере DHCP.

Во время установки необходим доступ в Интернет как для доступа к репозиториям так и для установки дополнительных плагинов Logstash.

Рекомендуется не менее 8 ГБ оперативной памяти. Мощность процессоров значения не имеет, процессор класса Intel Atom х64 вполне подойдет. Рекомендуемый объем дисковой памяти не менее 100 ГБ, скорость дисковой подсистемы существенного значения не имеет.

Рекомендуется иметь в сети сервис DNS и настроенные записи PTR для хостов, но это не обязательно. 

После установки, на аплаенсе появится общедоступная (только для чтения) SMB-папка agents. В ней будут находиться сконфигурированные агенты Winlogbeat и Metricbeat и скрипты для их автоматической установки. Их можно использовать как для ручной установки на хосты, так и для какой-либо системы автоматической установки (проверено с MS System Center Configuration Manager). Кроме того в этой же папке находится файл win-audit-set.bat, которым можно настроить политику аудита Windows, в том числе "Домашней версии", не имеющей соответствующего редактора политик. Этот файл не зависит от языка системы, поскольку использует GUID идентификаторы политик, а не их названия. 

Коммуникации между агентами и сервером закрываются посредством SSL. Используется самоподписанный сертификат сервера, который создается в процессе установки и конфигурации аплаенса.  

Более подробная документация на [LittleBeat.wiki](https://github.com/ESGuardian/LittleBeat/wiki)

## Установка

Во время установки на вашем сервере будет создан пользователь `little` (пароль вы зададите сами). Этому пользователю будут заданы uid=0 и gid=0, то есть он станет рутом

Образ диска здесь: [littlebeat-5.5.001.iso](https://1drv.ms/f/s!Al6nQoPiJAEjgYG5cIUqMBfPLcyeEXU)

Для работы с виртуальной машиной просто подключите littlebeat-5.5.001.iso в качестве cdrom, для работы с физической машиной создайте из этого образа cdrom или flashdrive, или скопируйте littlebeat-5.5.001.iso на машину, например, используя WinSCP, и смонтируйте его в какую-нибудь папку.

Перейдите в папку, в которую смонтировали диск, сделайтесь рутом (sudo su) и запустите скрипт run.sh.

Пример для запуска с cdrom:  

```
    
    mkdir ~/littlebeat
    sudo mount -t iso9660 -o ro /dev/cdrom ~/littlebeat
    cd ~/littlebeat
    sudo su
    bash run.sh

```

Пример для запуска со смонтированного iso:

```

    mkdir ~/littlebeat
    mount -t iso9660 -o loop ~/littlebeat-5.5.001.iso ~/littlebeat
    cd ~/littlebeat
    sudo su
    bash run.sh

```

Подключитесь к консоли алаенса от имени пользователя little и продолжайте установку и настройку системы (запустится последовательность меню). После завершения установки появится основное меню управления системой. Рекомендуется сразу настроить здесь обзор IP сетей и запустить его (обзор также запускается автоматически, кроном, каждые 2 часа).  
Затем в браузере на своей рабочей машине заходите на `http://you_littlebeat_host/`.


esguardian@outlook.com
